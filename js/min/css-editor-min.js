jQuery(document).ready(function($){var e=$("#summation-launch-css-editor");e.show();var s=$("style#summation-custom-css");e.click(function(s){if(s.preventDefault(),"editor"===e.attr("rel")){var t=$("#"+e.data("editor-target"));t.fadeIn(),$("#"+t.data("close-editor")).click(function(){t.fadeOut()})}}),$("#summation-css-editor-form").resizable({minHeight:300,minWidth:400,maxHeight:600,resize:function(e,s){$("#editor").css({height:s.size.height,width:s.size.width})}}).draggable({cancel:".ace_scroller",cursor:"crosshair",handle:".editor-drag"}),ace.require("ace/ext/language_tools");var t=ace.edit("editor"),a=$("#editor-textarea"),i=a.val(),n=i;t.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),t.setTheme("ace/theme/monokai"),t.getSession().setMode("ace/mode/css"),a.val(t.getSession().getValue()),t.getSession().on("change",function(){a.val(t.getSession().getValue()),n=t.getSession().getValue(),s.text(n)}),$("#editor").append($(".editor-drag")),$(".ui-icon").append($(".editor-resize")),$("#summation-css-save-changes").click(function(e){e.preventDefault();var t=$("#summation-editor-response");if(n===i)return void t.addClass("warning").text(summation_editor.no_changes_msg).slideDown().delay(2e3).slideUp(400,function(){t.removeClass("warning")});var a=$("i.fa.save-icon"),o=$("input#summation_css_editor_nonce").val();return summation_save_css_data={action:"summation_genesis_save_css",nonce:o,css:n},a.addClass("fa-spin"),$.post(summation_editor.ajax_url,summation_save_css_data,function(e){"failed"===e.status?t.addClass("error").text(e.message).slideDown().delay(2e3).slideUp(400,function(){t.removeClass("error")}):(t.addClass("success").text(e.message).slideDown().delay(2e3).slideUp(400,function(){t.removeClass("success")}),i=n,s.text(i))}),setInterval(function(){a.removeClass("fa-spin")},750),!1})});